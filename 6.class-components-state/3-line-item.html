<!DOCTYPE html>
<html lang="en">
<head>
    <title>Hello Component</title>
    <script src="/react/js/babel.js"></script>
    <script src="/react/js/react.development.js"></script>
    <script src= "/react/js/react-dom.development.js"></script>
</head>
<body>
    <div id="app"></div>
    <script type="text/babel">
        const appHandle = document.getElementById('app');

        class LineItem extends React.Component {
            constructor(props){
                super(props);
                this.state = {
                    quantity : this.props.item.quantity,
                    total : this.props.item.price * this.props.item.quantity
                };
                this.decrease = this.decrease.bind(this);
                this.increase = this.increase.bind(this);
            }

            decrease(){
                this.state.quantity > 1
                    this.setState(prevState => ({
                        quantity : prevState.quantity - 1,
                        total : prevState.total - this.props.item.price
                    }));
            }

            increase(){
                this.setState(prevState => ({
                    quantity : prevState.quantity + 1,
                    total : prevState.total + this.props.item.price
                }));
            }
    
        render(){
            return (
                <div>
                    <table border="1">
                        <thead>
                            <tr>
                                <th>name</th>
                                <th>price</th>
                                <th>quantity</th>
                                <th>total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> {this.props.item.name}</td>
                                <td> {this.props.item.price}</td>
                                <td>
                                    <button onClick = {this.decrease} disabled={this.state.quantity > 1 ? false : true}> - </button>
                                    {this.state.quantity}
                                    <button onClick = {this.increase}> + </button>
                                </td>
                                <td>
                                    {this.state.total}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            )
        }
    }
        ReactDOM.render(<LineItem item={{name:'Marker',price:15,quantity:1}} />,appHandle)
    </script>
</body>
</html>